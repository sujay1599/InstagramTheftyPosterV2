# Instagram Thefty Poster

This Python script automates the process of scraping and uploading Instagram reels using the `instagrapi` library. It allows you to scrape reels from specified Instagram profiles, download them, and upload them with new descriptions, optional hashtags, and credits. The script also supports the periodic deletion of uploaded reels.

## Features

- **Scrape Reels**: Scrape reels from specified Instagram profiles.
- **Download and Save Reels**: Download and save reels along with their captions.
- **Upload Reels**: Upload reels to your Instagram account with customizable descriptions.
- **Story Uploads**: Optionally add reels to your Instagram story.
- **Periodic Deletion**: Periodically delete uploaded reels based on user-defined intervals.
- **Custom Descriptions**: Use original or custom descriptions for uploaded reels.
- **Hashtags and Credit**: Optionally add hashtags and give credit to the original profile.
- **Session Management**: Use session-based login to reduce the risk of being flagged as a bot.
- **Fallback Login**: Fall back to username and password login if session-based login fails.
- **Dashboard**: Display a dashboard with scraping, uploading, file counts, and status information.

## Requirements

- Python 3.6+
- `instagrapi==1.17.0`
- `openai==1.35.13`
- `pyyaml==6.0`
- `requests==2.28.1`
- `rich==10.15.2`
- `pillow`
- `browser-cookie3`
- `moviepy==1.0.3`
- `cryptography==41.0.1`

## Installation

1. **Clone the repository**:
   ```bash
   git clone https://github.com/sujay1599/InstagramTheftyPosterV2.git
   cd InstagramTheftyPosterV2
   ```

2. **Install the required packages**:
   ```bash
   pip install -r requirements.txt
   ```

3. **Run `start.py` to create the `config.yaml` file**:
   ```bash
   python start.py
   ```
   Follow the prompts to enter your configuration details. This will generate a `config.yaml` file with the necessary settings, including encrypted Instagram credentials.

## Usage

1. **Run the main script**:
   ```bash
   python main.py
   ```

2. **Run the dashboard**:
   ```bash
   python dashboard.py
   ```

3. **Run the deletion script**:
   ```bash
   python delete.py
   ```

### Configuration

The `config.yaml` file will be generated by running `start.py`. It includes the following settings:

- **Instagram Credentials**: Provide your Instagram username and password. These will be encrypted and stored securely.
- **Scraping Settings**:
  - `enabled`: Set to `true` to enable scraping.
  - `profiles`: Space-separated list of Instagram profiles to scrape reels from.
  - `num_reels`: Number of reels to scrape per profile.
  - `scrape_interval_minutes`: Interval in minutes between scraping sessions.
- **Uploading Settings**:
  - `enabled`: Set to `true` to enable uploading.
  - `upload_interval_minutes`: Interval in minutes between uploads.
  - `add_to_story`: Set to `true` to add reels to your Instagram story.
- **Description Settings**:
  - `use_original`: Set to `true` to use the original reel description. If `false`, you will be prompted to enter a custom description.
  - `custom_description`: The custom description to use if `use_original` is `false`.
- **Hashtags Settings**:
  - `use_hashtags`: Set to `true` to use hashtags in the reel descriptions.
  - `hashtags_list`: List of hashtags to include in the reel descriptions (if `use_hashtags` is `true`).
- **Credit Settings**:
  - `give_credit`: Set to `true` to give credit to the original poster in the reel descriptions.
- **Deleting Settings**:
  - `delete_interval_minutes`: Interval in minutes between deletions.

### Logging

The script maintains a log file (`upload_log.txt`) to keep track of uploaded reels and a timestamp file (`last_scraped_timestamp.txt`) to track the last scraping time.

### Login Process

- The script uses session-based login to reduce the risk of being flagged as a bot by Instagram.
- On the first run, it logs in using the provided username and password and saves the session to a file.
- On subsequent runs, it tries to log in using the session file.
- If session-based login fails, it falls back to username and password login and updates the session file.

### Dashboard

The dashboard provides a summary of the current status of scraping, uploading, file counts, and other metrics. To display the dashboard, run:
```bash
python dashboard.py
```

### Deleting Uploaded Reels

- If you want to delete uploaded reels, you can manually run `delete.py`:
  ```bash
  python delete.py
  ```
- This will delete the files listed in `upload_log.txt` from the `downloads` folder.

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

## Contributing

Contributions are welcome! Please open an issue or submit a pull request for any improvements or bug fixes.

## Disclaimer

This script is intended for educational and personal use only. Use it responsibly and ensure you comply with Instagram's terms of service and guidelines.
